<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Payment Specification Demo</title>
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>
    <div class="container">
        <h1>Payment Specification Demo</h1>
        
        <!-- Modal for Data Type Details -->
        <div class="modal-overlay" id="dataTypeModal">
            <div class="modal-content">
                <div class="modal-header">
                    <div class="modal-title" id="modalTitle">Data Type Details</div>
                    <button class="modal-close" onclick="closeModal()">Ã—</button>
                </div>
                <div class="modal-body" id="modalBody"></div>
            </div>
        </div>
        
        <!-- Controls Panel -->
        <div class="controls">
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px;">
                <div class="control-group">
                    <label for="transactionType">Transaction Type:</label>
                    <select id="transactionType">
                        <option value="Sale">Sale</option>
                        <option value="Refund">Refund</option>
                        <option value="PreAuth">Pre-Authorization</option>
                    </select>
                </div>
                <div class="control-group">
                    <label for="amount">Amount:</label>
                    <input type="number" id="amount" value="100.00" step="0.01" min="0">
                </div>
            </div>
            <button onclick="generateJSON()">Generate JSON</button>
            <div id="validationStatus"></div>
        </div>
        
        <!-- Main Grid -->
        <div class="demo-grid">
            <div class="panel">
                <div class="panel-header">Message Structure (Click for details)</div>
                <div class="panel-content">
                    <div class="spec-tree" id="specTree"></div>
                </div>
            </div>
            
            <div class="panel">
                <div class="panel-header">Data Types Reference</div>
                <div class="panel-content">
                    <div class="data-types" id="dataTypes"></div>
                </div>
            </div>
            
            <div class="panel">
                <div class="panel-header">Generated JSON</div>
                <div class="panel-content">
                    <div class="output-container">
                        <button class="copy-btn" onclick="copyJSON()">Copy</button>
                        <div class="json-output" id="jsonOutput">Click "Generate JSON"...</div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Load JavaScript modules -->
    <script type="module" src="js/data.js"></script>
    <script type="module" src="js/app.js"></script>
</body>
</html>